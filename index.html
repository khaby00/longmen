<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Longmen â€” The Leap of Longmen / é¾™é—¨ä¸€è·ƒ</title>
<meta name="description" content="Longmen â€” From Carp to Dragon. Token supply 888,888,888. é¾™é—¨ â€” é²¤é±¼åŒ–é¾™ã€‚æ€»é‡ 888,888,888ã€‚" />
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600;900&family=Cinzel:wght@500;700&family=Noto+Serif+SC:wght@400;700&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#000;
    --muted:#e6e6e6;
    --gold:#ffd700;
    --fire:#ff4500;
    --accent-red:#d32f2f;
    --max-audio:0.30;
    --pulse:2.6s;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; background:var(--bg); color:var(--muted);
    font-family:'Cinzel',serif; -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale; line-height:1.6;
  }

  /* show/hide by body[data-lang] -> robust and avoids inline styles */
  .lang-en, .lang-zh { display:none; }
  body[data-lang="en"] .lang-en { display:block; }
  body[data-lang="en"] .lang-zh { display:none; }
  body[data-lang="zh"] .lang-zh { display:block; }
  body[data-lang="zh"] .lang-en { display:none; }

  /* language toggle */
  .lang-toggle{ position:fixed; top:12px; right:12px; z-index:9999; display:flex; gap:8px;
    background:rgba(0,0,0,0.45); padding:6px 8px; border-radius:999px; border:1px solid rgba(255,215,0,0.06); }
  .lang-btn{ background:none; border:none; padding:6px 8px; cursor:pointer; color:var(--muted); font-weight:700; font-family:Orbitron, sans-serif; }
  .lang-btn.active{ color:var(--gold); box-shadow:0 0 8px rgba(255,215,0,0.08); }

  /* music control */
  #music-control{ position:fixed; left:12px; bottom:12px; z-index:9999; width:46px; height:46px; border-radius:50%;
    display:flex; align-items:center; justify-content:center; background:linear-gradient(180deg, rgba(0,0,0,0.55), rgba(0,0,0,0.25));
    border:1px solid rgba(255,215,0,0.08); cursor:pointer; color:var(--gold); font-size:18px; box-shadow:0 6px 18px rgba(0,0,0,0.5);
    animation:glowPulse var(--pulse) infinite ease-in-out; }

  /* hero */
  .hero{ position:relative; min-height:86vh; display:flex; align-items:center; justify-content:center; text-align:center;
    background: url("https://i.postimg.cc/rm6H3TWf/carp-upscaled.jpg") center/cover no-repeat fixed; }
  .hero::before{ content:""; position:absolute; inset:0; background:linear-gradient(180deg, rgba(0,0,0,0.66), rgba(0,0,0,0.66)); z-index:0; }
  .hero-inner{ position:relative; z-index:2; max-width:1100px; padding:28px; }

  @keyframes glowPulse { 0%{transform:scale(1);text-shadow:0 0 8px rgba(255,215,0,0.6)} 50%{transform:scale(1.03);text-shadow:0 0 36px rgba(255,160,64,0.95)} 100%{transform:scale(1); text-shadow:0 0 8px rgba(255,215,0,0.6)} }
  .title{ font-family:'Orbitron',sans-serif; font-size:3.4rem; margin:0 0 8px;
    background:linear-gradient(90deg,var(--gold),var(--fire)); -webkit-background-clip:text; -webkit-text-fill-color:transparent;
    animation:glowPulse var(--pulse) infinite ease-in-out; }

  .subtitle{ display:inline-block; font-size:1.15rem; color:rgba(255,235,205,0.95); margin-bottom:18px; position:relative; }
  .subtitle::after{ content:""; position:absolute; left:0; bottom:-8px; height:3px; width:0%; background:linear-gradient(90deg,var(--gold),var(--fire)); box-shadow:0 0 10px var(--gold); transition:width .35s ease; }
  .subtitle:hover{ color:var(--gold) } .subtitle:hover::after{ width:100% }

  /* typewriter caret class will be applied during typing */
  .typewriter { border-right: .12em solid rgba(255,255,255,0.15); white-space: nowrap; overflow: hidden; }

  /* CTA buttons */
  .cta-stack{ margin-top:18px; display:flex; flex-direction:column; gap:10px; align-items:center; }
  .btn { font-family:'Orbitron',sans-serif; text-transform:uppercase; font-weight:800; padding:12px 28px; border-radius:36px; border:none; cursor:pointer; text-decoration:none; display:inline-block; transition:transform .14s ease, box-shadow .14s ease; }
  .btn-buy{ background: linear-gradient(90deg,var(--gold), #ff9800); color:#000; box-shadow:0 0 28px rgba(255,215,0,0.16); }
  .btn-follow{ background: linear-gradient(90deg,#ff5a5a,var(--accent-red)); color:#fff; box-shadow:0 0 24px rgba(255,80,80,0.12); }

  /* main sections */
  main{ padding:32px 20px 90px; max-width:1200px; margin:0 auto; }
  .section{ margin:34px auto; padding:24px; border-radius:12px; background: linear-gradient(180deg, rgba(0,0,0,0.6), rgba(0,0,0,0.55)); border:1px solid rgba(255,215,0,0.05); box-shadow:0 10px 30px rgba(0,0,0,0.5); }
  .section h2{ font-family:'Orbitron',sans-serif; font-size:1.85rem; margin:0 0 14px; color:var(--gold); display:inline-block; position:relative; }
  .section h2::after{ content:""; position:absolute; left:0; bottom:-8px; height:4px; width:0; background: linear-gradient(90deg,var(--gold),var(--fire)); transition:width .3s ease; box-shadow:0 0 12px var(--gold); }
  .section h2:hover::after{ width:100%; }

  /* numbers */
  .nums{ display:flex; gap:14px; flex-wrap:wrap; margin-top:12px; }
  .numbox{ flex:1 1 260px; background:rgba(0,0,0,0.45); padding:14px; border-radius:10px; border:1px solid rgba(255,215,0,0.04); }
  .num-value{ font-family:'Orbitron',sans-serif; font-size:2.1rem; color:var(--gold); font-weight:900; text-shadow:0 0 12px var(--gold); }
  .num-label{ color:#eae7df; margin-top:6px; font-size:0.95rem; }

  /* fade-in */
  .fade-in{ opacity:0; transform:translateY(12px); transition:opacity .9s ease, transform .9s ease; }
  .fade-in.visible{ opacity:1; transform:translateY(0); }

  footer{ text-align:center; color:#bfbfbf; margin:36px 0 80px; font-family:'Orbitron',sans-serif; }
  footer a{ color:var(--gold); text-decoration:none; font-weight:700; }
  footer a:hover{ color:#fff; }

  @media (max-width:760px){
    .title{ font-size:2.2rem; }
    .numbox{ flex:1 1 100%; }
    .hero{ min-height:72vh; }
    .lang-toggle{ right:8px; top:8px; padding:6px; }
  }
</style>
</head>
<body data-lang="en">

<!-- Background audio (Pixabay track) -->
<audio id="bg-music" loop preload="auto" muted>
  <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_fa1e8f5b13.mp3?filename=all-for-you-traditional-chinese-style-instrumental-129216.mp3" type="audio/mpeg">
  <!-- fallback -->
</audio>

<!-- language toggle -->
<div class="lang-toggle" role="navigation" aria-label="language">
  <button id="lang-en" class="lang-btn" aria-label="English" title="English"> <img src="https://flagcdn.com/w20/gb.png" alt="EN" style="width:18px;height:auto"> EN</button>
  <button id="lang-zh" class="lang-btn" aria-label="ä¸­æ–‡" title="ä¸­æ–‡"> <img src="https://flagcdn.com/w20/cn.png" alt="ä¸­æ–‡" style="width:18px;height:auto"> ä¸­æ–‡</button>
</div>

<!-- music control -->
<div id="music-control" aria-label="toggle music" title="Toggle music">ğŸ”‡</div>

<!-- HERO -->
<header class="hero" role="banner">
  <div class="hero-inner">
    <h1 class="title lang-en">The Leap of Longmen</h1>
    <h1 class="title lang-zh">é¾™é—¨ä¸€è·ƒ</h1>

    <div class="subtitle lang-en"><span id="type-en" class="typewriter"></span></div>
    <div class="subtitle lang-zh"><span id="type-zh" class="typewriter"></span></div>

    <div class="cta-stack" aria-hidden="false">
      <a id="buy" class="btn btn-buy lang-en" href="https://pump.fun" target="_blank" rel="noopener">Buy on Pump.fun</a>
      <a id="buy-zh" class="btn btn-buy lang-zh" href="https://pump.fun" target="_blank" rel="noopener">åœ¨ Pump.fun ä¸Šè´­ä¹°</a>

      <a id="follow" class="btn btn-follow lang-en" href="https://x.com/LongmenX" target="_blank" rel="noopener">Follow us on X</a>
      <a id="follow-zh" class="btn btn-follow lang-zh" href="https://x.com/LongmenX" target="_blank" rel="noopener">å…³æ³¨æˆ‘ä»¬çš„ X</a>
    </div>
  </div>
</header>

<main>
  <!-- Legend -->
  <section class="section fade-in">
    <h2 class="lang-en">The Legend</h2>
    <h2 class="lang-zh">ä¼ è¯´</h2>

    <div class="lang-en">
      <p>In the ancient land of China, the Yellow River wound through mountains and plains. Within its restless waters swam countless carps, their golden scales glinting like fragments of sunlight. Across generations they whispered a single destiny â€” the Leap of Longmen.</p>
      <p>At Longmen, a thunderous waterfall roared. The legend said: any carp brave enough to leap those roaring gates would be transformed by heaven into a dragon â€” a creature of wisdom, power and majesty. Many tried; many failed. Still, hope prevailed.</p>
      <p>Finally, one carp rose above the rest. Against the torrent it leapt, cut through spray and sky, and when the water fell away it no longer swam â€” it flew. The carp became a dragon, radiant and unstoppable.</p>
      <p><strong>This transformation is our guide: together we leap, together we rise, together we become.</strong></p>
    </div>

    <div class="lang-zh">
      <p>åœ¨å¤è€çš„ä¸­åå¤§åœ°ï¼Œé»„æ²³èœ¿èœ’ç©¿è¿‡ç¾¤å±±ä¸å¹³åŸã€‚åœ¨å…¶å¥”æ¶Œçš„æ²³æ°´ä¸­ï¼Œæ— æ•°é²¤é±¼é€†æµè€Œä¸Šï¼Œé‡‘è‰²é³ç‰‡åœ¨é˜³å…‰ä¸‹é—ªè€€ã€‚ä¸–ä»£ç›¸æ‰¿ï¼Œå®ƒä»¬ä½è¯­ç€åŒä¸€ä¸ªå‘½è¿â€”â€”é¾™é—¨ä¸€è·ƒã€‚</p>
      <p>åœ¨é¾™é—¨ï¼Œç€‘å¸ƒé›·é¸£ã€‚ä¼ è¯´è¯´ï¼šå‡¡æœ‰å‹‡æ°”è·ƒè¿‡é‚£è½°é¸£æ°´å¹•çš„é²¤é±¼ï¼Œå°†å¾—å¤©å‘½ï¼ŒåŒ–ä¸ºé¾™â€”â€”æ™ºæ…§ã€åŠ›é‡ä¸å¨ä¸¥çš„åŒ–èº«ã€‚è®¸å¤šäººå°è¯•ï¼Œè®¸å¤šäººå¤±è´¥ï¼Œä½†å¸Œæœ›å§‹ç»ˆå­˜åœ¨ã€‚</p>
      <p>ç»ˆäºï¼Œä¸€æ¡é²¤é±¼è¶…è¶Šç¾¤é³ã€‚å®ƒé€†æµè€Œä¸Šï¼Œä¸€è·ƒç©¿ç ´æ°´é›¾ä¸é•¿ç©ºï¼›å½“æ³¢æ¾œå½’äºå¹³é™ï¼Œå®ƒä¸å†æ˜¯æ°´ä¸­çš„æ¸¸è€…ï¼Œè€Œæ˜¯è…¾ç©ºçš„é¾™ã€‚é²¤é±¼åŒ–ä¸ºé¾™ï¼Œå…‰è€€å¤©åœ°ï¼ŒåŠ¿ä¸å¯æŒ¡ã€‚</p>
      <p><strong>æ­¤ç­‰èœ•å˜æ­£æ˜¯æˆ‘ä»¬çš„ä¿¡å¿µï¼šæˆ‘ä»¬ä¸€åŒè·ƒèµ·ï¼Œæˆ‘ä»¬ä¸€åŒå´›èµ·ï¼Œæˆ‘ä»¬ä¸€åŒåŒ–é¾™ã€‚</strong></p>
    </div>
  </section>

  <!-- Numbers -->
  <section class="section fade-in">
    <h2 class="lang-en">Numbers That Impress</h2>
    <h2 class="lang-zh">ä»¤äººéœ‡æ’¼çš„æ•°å­—</h2>

    <div class="nums" role="list">
      <div class="numbox" role="listitem">
        <div class="num-value" data-target="888888888">0</div>
        <div class="num-label lang-en">Total supply â€” chosen for fortune & harmony</div>
        <div class="num-label lang-zh">æ€»ä¾›åº”é‡ â€” è±¡å¾å¹¸è¿ä¸å’Œè°</div>
      </div>

      <div class="numbox" role="listitem">
        <div class="num-value" data-target="1400000000">0</div>
        <div class="num-label lang-en">Potential audience (people in China)</div>
        <div class="num-label lang-zh">æ½œåœ¨å—ä¼—ï¼ˆä¸­å›½äººå£ï¼‰</div>
      </div>

      <div class="numbox" role="listitem">
        <div class="num-value" data-target="50000000000">0</div>
        <div class="num-label lang-en">Global meme views daily</div>
        <div class="num-label lang-zh">æ¯æ—¥å…¨çƒè¡¨æƒ…åŒ…æµè§ˆé‡</div>
      </div>
    </div>
  </section>

  <!-- Roadmap -->
  <section class="section fade-in">
    <h2 class="lang-en">Roadmap</h2>
    <h2 class="lang-zh">è·¯çº¿å›¾</h2>

    <div class="lang-en">
      <p><strong>Phase I â€” The Carp:</strong> Launch on Pump.fun, assemble early believers, tell the story.</p>
      <p><strong>Phase II â€” The Leap:</strong> Influencer pushes, social virality, first listings.</p>
      <p><strong>Phase III â€” The Dragon:</strong> Cultural adoption, partnerships, mainstream recognition.</p>
      <p><strong>Phase IV â€” The Meme Empire:</strong> Longmen stands among global meme icons.</p>
    </div>

    <div class="lang-zh">
      <p><strong>ç¬¬ä¸€é˜¶æ®µ â€” é²¤é±¼ï¼š</strong>åœ¨ Pump.fun ä¸Šçº¿ï¼Œé›†ç»“æ—©æœŸä¿¡å¾’ï¼Œè®²è¿°ä¼ å¥‡ã€‚</p>
      <p><strong>ç¬¬äºŒé˜¶æ®µ â€” ä¸€è·ƒï¼š</strong>å‘åŠ¨å½±å“è€…æ¨å¹¿ï¼Œç¤¾äº¤å¹³å°ç—…æ¯’å¼ä¼ æ’­ï¼Œå®Œæˆé¦–è½®æ›å…‰ä¸ä¸Šçº¿ã€‚</p>
      <p><strong>ç¬¬ä¸‰é˜¶æ®µ â€” åŒ–é¾™ï¼š</strong>æ¨åŠ¨æ–‡åŒ–é‡‡çº³ï¼Œå»ºç«‹åˆä½œä¼™ä¼´å…³ç³»ï¼Œè·å¾—ä¸»æµè®¤å¯ã€‚</p>
      <p><strong>ç¬¬å››é˜¶æ®µ â€” Meme å¸å›½ï¼š</strong>é¾™é—¨è·»èº«å…¨çƒè¡¨æƒ…åŒ…æ–‡åŒ–è¡Œåˆ—ã€‚</p>
    </div>
  </section>

  <!-- Why Now / Why Buy -->
  <section class="section fade-in">
    <h2 class="lang-en">Why Now?</h2>
    <h2 class="lang-zh">ä¸ºä»€ä¹ˆæ˜¯ç°åœ¨ï¼Ÿ</h2>
    <p class="lang-en">Doge and Pepe captured the West â€” now the East has a story of its own. Longmen combines cultural depth with meme momentum; the timing and the audience are aligned.</p>
    <p class="lang-zh">Doge ä¸ Pepe æ›¾å¸­å·è¥¿æ–¹ï¼Œå¦‚ä»Šä¸œæ–¹ä¹Ÿæ‹¥æœ‰å¯è¢«ä¼ æ‰¬çš„ä¼ å¥‡ã€‚é¾™é—¨å°†æ–‡åŒ–æ·±åº¦ä¸è¡¨æƒ…åŒ…ä¼ æ’­åŠ¿èƒ½ç»“åˆï¼Œæ—¶æœºä¸å—ä¼—ä¿±ä½³ã€‚</p>

    <h2 class="lang-en">Why Buy Longmen?</h2>
    <h2 class="lang-zh">ä¸ºä»€ä¹ˆè´­ä¹°é¾™é—¨ï¼Ÿ</h2>

    <div class="reasons lang-en">
      <ul>
        <li>ğŸ‰ <strong>Cultural Power:</strong> A story every Chinese person knows â€” not just a meme, but heritage.</li>
        <li>ğŸŒ <strong>Untapped Market:</strong> Doge and Pepe dominated the West. The East needs its own cultural meme coin.</li>
        <li>ğŸ’ <strong>Scarcity & Symbolism:</strong> Fixed supply: <strong>888,888,888</strong>.</li>
        <li>ğŸš€ <strong>Meme Magnet:</strong> Billions of daily meme views = huge viral potential.</li>
        <li>ğŸ”¥ <strong>Community Spirit:</strong> Holders are the carps â€” together they make the leap into dragonhood.</li>
      </ul>
    </div>

    <div class="reasons lang-zh">
      <ul>
        <li>ğŸ‰ <strong>æ–‡åŒ–åŠ›ï¼š</strong>è¿™æ˜¯æ¯ä½ä¸­å›½äººç†Ÿæ‚‰çš„æ•…äº‹â€”â€”ä¸ä»…æ˜¯è¡¨æƒ…åŒ…ï¼Œè€Œæ˜¯æ–‡åŒ–ä¸ä¼ æ‰¿ã€‚</li>
        <li>ğŸŒ <strong>æœªè¢«å¼€å‘çš„å¸‚åœºï¼š</strong>Doge ä¸ Pepe ä¸»å¯¼äº†è¥¿æ–¹ï¼Œä¸œæ–¹äºŸéœ€è‡ªå·±çš„æ–‡åŒ–å‹ Meme å¸ã€‚</li>
        <li>ğŸ’ <strong>ç¨€ç¼ºä¸è±¡å¾ï¼š</strong>å›ºå®šæ€»é‡ï¼š<strong>888,888,888</strong>ã€‚</li>
        <li>ğŸš€ <strong>è¡¨æƒ…åŒ…å¼•åŠ›ï¼š</strong>æ¯å¤©æ•°åäº¿æ¬¡çš„å±•ç¤ºæ„å‘³ç€å·¨å¤§çš„ç—…æ¯’å¼ä¼ æ’­æ½œåŠ›ã€‚</li>
        <li>ğŸ”¥ <strong>ç¤¾åŒºç²¾ç¥ï¼š</strong>æŒæœ‰è€…å³é²¤é±¼â€”â€”å›¢ç»“ä¸€å¿ƒï¼Œå…±åŒè·ƒå‘åŒ–é¾™ä¹‹è·¯ã€‚</li>
      </ul>
    </div>
  </section>
</main>

<footer>
  <p class="lang-en">Join the legend â€” <a id="buy-foot" href="https://pump.fun" target="_blank" rel="noopener">Buy on Pump.fun</a> | <a id="follow-foot" href="https://x.com/LongmenX" target="_blank" rel="noopener">Follow us on X</a></p>
  <p class="lang-zh">åŠ å…¥ä¼ å¥‡ â€” <a id="buy-foot-zh" href="https://pump.fun" target="_blank" rel="noopener">åœ¨ Pump.fun ä¸Šè´­ä¹°</a> | <a id="follow-foot-zh" href="https://x.com/LongmenX" target="_blank" rel="noopener">å…³æ³¨æˆ‘ä»¬çš„ X</a></p>
</footer>

<script>
/* ---------- Robust language handling ---------- */
(function(){
  const saved = localStorage.getItem('longmen_lang');
  const nav = (navigator.language || navigator.userLanguage || 'en').toLowerCase();
  const initial = saved || (nav.startsWith('zh') ? 'zh' : 'en');

  function setBodyLang(lang) {
    document.body.setAttribute('data-lang', lang === 'zh' ? 'zh' : 'en');
    document.documentElement.lang = (lang === 'zh' ? 'zh-CN' : 'en');
    // active button visuals
    document.getElementById('lang-en').classList.toggle('active', lang !== 'zh');
    document.getElementById('lang-zh').classList.toggle('active', lang === 'zh');
    // run typewriter for visible one
    runTypewriter(lang === 'zh' ? 'zh' : 'en');
    localStorage.setItem('longmen_lang', lang === 'zh' ? 'zh' : 'en');
  }

  document.getElementById('lang-en').addEventListener('click', () => setBodyLang('en'));
  document.getElementById('lang-zh').addEventListener('click', () => setBodyLang('zh'));

  // initial set
  setBodyLang(initial);
})();

/* ---------- Typewriter effect (runs for selected subtitle only) ---------- */
function runTypewriter(lang) {
  const texts = {
    en: "From Carp to Dragon â€” A Legend Reborn on Chain",
    zh: "é²¤é±¼åŒ–é¾™ â€” é“¾ä¸Šçš„ä¼ å¥‡æ–°ç”Ÿ"
  };
  const id = lang === 'zh' ? 'type-zh' : 'type-en';
  // Hide the other subtitle(s) (CSS already does this), but only type into active span
  const el = document.getElementById(id);
  if (!el) return;
  el.classList.add('typewriter');
  el.textContent = "";
  let i = 0;
  const speed = 20;
  function step(){
    if (i <= texts[lang].length) {
      el.textContent = texts[lang].slice(0,i);
      i++;
      setTimeout(step, speed);
    } else {
      el.classList.remove('typewriter');
    }
  }
  step();
}

/* ---------- IntersectionObserver fade-in ---------- */
(function(){
  const obs = new IntersectionObserver((entries, o) => {
    entries.forEach(e => {
      if (e.isIntersecting) { e.target.classList.add('visible'); o.unobserve(e.target); }
    });
  }, {threshold:0.15});
  document.querySelectorAll('.fade-in').forEach(el => obs.observe(el));
})();

/* ---------- Count-up animation for numbers ---------- */
(function(){
  const ease = t => (--t)*t*t+1;
  function animate(el, target) {
    let start = null;
    const dur = 1400 + Math.min(2200, Math.round(target/500000));
    function tick(ts){
      if (!start) start = ts;
      const p = Math.min(1, (ts - start)/dur);
      const v = Math.floor(target * ease(p));
      el.textContent = v.toLocaleString();
      if (p < 1) requestAnimationFrame(tick); else el.textContent = target.toLocaleString();
    }
    requestAnimationFrame(tick);
  }
  const obs = new IntersectionObserver((entries, o) => {
    entries.forEach(en => {
      if (!en.isIntersecting) return;
      const el = en.target;
      const t = parseInt(el.getAttribute('data-target'), 10) || 0;
      animate(el, t);
      o.unobserve(el);
    });
  }, {threshold:0.5});
  document.querySelectorAll('.num-value').forEach(el => obs.observe(el));
})();

/* ---------- Audio: muted autoplay attempt + fade-in; music control toggles ---------- */
(function(){
  const audio = document.getElementById('bg-music');
  const ctl = document.getElementById('music-control');
  let playing = false;
  audio.muted = true;
  audio.volume = 0;

  function fadeTo(target, stepMs = 150) {
    let vol = audio.volume || 0;
    const delta = 0.02;
    const id = setInterval(() => {
      vol = Math.min(target, vol + delta);
      audio.volume = vol;
      if (Math.abs(vol - target) < 0.001 || vol >= target) {
        clearInterval(id);
      }
    }, stepMs);
  }

  function attemptPlay() {
    audio.muted = false;
    const p = audio.play();
    if (p && p.then) {
      p.then(() => {
        // play allowed -> fade to target
        fadeTo(parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--max-audio')) || 0.30, 120);
        ctl.textContent = 'ğŸ”Š';
        playing = true;
      }).catch(() => {
        // play blocked -> remain muted; user must click
        audio.muted = true;
        audio.volume = 0;
        ctl.textContent = 'ğŸ”‡';
        playing = false;
      });
    } else {
      // older browsers: assume playing
      fadeTo(parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--max-audio')) || 0.30, 120);
      ctl.textContent = 'ğŸ”Š';
      playing = true;
    }
  }

  // run attempt on load (may be blocked)
  window.addEventListener('load', () => {
    attemptPlay();
  });

  // explicit control click (user gesture) toggles play/mute
  ctl.addEventListener('click', () => {
    if (!playing || audio.muted) {
      audio.muted = false;
      audio.play().then(() => {
        fadeTo(parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--max-audio')) || 0.30, 120);
        ctl.textContent = 'ğŸ”Š'; playing = true;
      }).catch(() => {
        audio.muted = true; audio.volume = 0; ctl.textContent = 'ğŸ”‡'; playing = false;
      });
    } else {
      // mute + pause
      audio.pause();
      audio.muted = true;
      ctl.textContent = 'ğŸ”‡';
      playing = false;
    }
  });
})();

/* ensure external links noopener */
document.addEventListener('DOMContentLoaded', () => document.querySelectorAll('a[target="_blank"]').forEach(a => a.setAttribute('rel','noopener')));
</script>
</body>
</html>
